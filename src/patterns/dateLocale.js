
let a = JSON.parse(`[{"title":"ВАЛЕРІЙ ЖИДКОВ","date":"25 грудня 19:00, сб","city":"Одеса","address":"Театр музкомедії (ОАТМК ім. М. Водяного)","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/9/QY/618a5d915dad7/db1e.jpg:31-catalog-event_item-desktop"},{"title":"ШОУ ІМПРОВІЗАЦІЇ \\\\"ROCKSTAR IMPROV\\\\"","date":"17 грудня 19:30, пт","city":"Київ","address":"Підвал Культури","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/13/KV/61b742d0a16d4/1738.jpg:31-catalog-event_item-desktop"},{"title":"GONZO STAND-UP","date":"23 грудня 19:30, чт","city":"Київ","address":"GONZO Beer & Kitchen","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/30/8C/61a60659bc143/c18e.png:31-catalog-event_item-desktop"},{"title":"КИЕВСКИЙ БРОДЯЧИЙ STAND UP","date":"17 грудня 20:00, пт","city":"Дніпро","address":"Bubamara Concert Hall","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/25/cm/619f7455dcbfa/cc47.jpg:31-catalog-event_item-desktop"},{"title":"ДИВНІ ЛЮДИ. МОЯ КОЛИШНЯ КОРОЛЕВА","date":"17.12","city":"Київ","address":"Будинок архітектора","price":0,"category":3,"image":"https://storage.concert.ua/JmF/4/Jv/610a7fe87c5f4/c649.jpg:31-catalog-event_item-desktop"},{"title":"ВЕЧІРНІЙ КВАРТАЛ. НОВОРІЧНА ПРОГРАМА НА БІС","date":"30 грудня 20:00, чт","city":"Київ","address":"Freedom Hall","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/5/O5/61ad24ed6384c/389e.png:31-catalog-event_item-desktop"},{"title":"ЛІГА СМІХУ. ФЕСТИВАЛЬ 2022","date":"21.01","city":"Київ","address":"МЦКМ (Жовтневий палац)","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/30/v7/61a60bf77ca8d/cae6.jpg:31-catalog-event_item-desktop"},{"title":"СЕРГІЙ ДЄТКОВ","date":"09 лютого 20:00, ср","city":"Одеса","address":"Одеська обласна філармонія","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/27/TS/61793b0f6a160/a1a7.jpg:31-catalog-event_item-desktop"},{"title":"DIZEL SHOW ВЕСНА НАДИХАЄ!","date":"22.02, 23.02","city":"Київ","address":"Палац Україна","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/6/WG/61adf6589a598/a5f0.png:31-catalog-event_item-desktop"},{"title":"ПІДПІЛЬНИЙ СТЕНДАП: XL. НОВОРІЧНИЙ КОНЦЕРТ","date":"17 грудня 19:30, пт","city":"Київ","address":"Будинок Кіно","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/18/WJ/6196112ab5e54/5ea3.jpg:31-catalog-event_item-desktop"},{"title":"STAND UP УКРАЇНСЬКОЮ","date":"18 грудня 19:00, сб","city":"Київ","address":"Magnifiqe bar","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/9/Ia/61b2165eb2737/277d.jpg:31-catalog-event_item-desktop"},{"title":"ДУЖЕ НОВОРІЧНИЙ СТЕНДАП","date":"18 грудня 19:00, сб","city":"Київ","address":"Admiral Hall","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/14/S3/61b88495be74e/e799.jpg:31-catalog-event_item-desktop"},{"title":"ПРОСТО СТЕНДАП / STAND UP У СУНДУК-ПАБІ","date":"19 грудня 20:00, нд","city":"Київ","address":"Сундук Паб","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/12/in/61b6590048581/85d6.jpg:31-catalog-event_item-desktop"},{"title":"ПРОСТО СТЕНДАП / STAND UP У PESTO","date":"19 грудня 20:00, нд","city":"Київ","address":"Pesto Cafe","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/15/mb/61b9e15bc89c3/8a0d.jpg:31-catalog-event_item-desktop"},{"title":"ПІДПІЛЬНИЙ СТЕНДАП XL","date":"25 грудня 19:00, сб","city":"Київ","address":"Kooperativ","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/29/R0/61a491f298da1/8dee.jpg:31-catalog-event_item-desktop"},{"title":"РІЗДВЯНА ІМПРОВІЗАЦІЯ ВОРОБУШКА З ДІДОМ МОРОЗОМ","date":"28 грудня 18:00, вт","city":"Київ","address":"Кінотеатр Ліра","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/6/5f/61adc44daa937/a982.jpg:31-catalog-event_item-desktop"},{"title":"ІМПРОВІЗАЦІЙНА ВИСТАВА КУПЕ. НОВОРІЧНА ПОДОРОЖ","date":"29 грудня 19:30, ср","city":"Київ","address":"Арт Братіслава","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/6/Fd/61ae69a40814f/81ad.png:31-catalog-event_item-desktop"},{"title":"ДИВНІ ЛЮДИ. НОВОРІЧНІ 15 ДІБ В ХОЛОДИЛЬНИКУ","date":"30.12, 31.12","city":"Київ","address":"Будинок архітектора","price":0,"category":3,"image":"https://storage.concert.ua/JmF/4/rg/610a928eef06b/f0c3.jpg:31-catalog-event_item-desktop"},{"title":"STAND-UP В PEPPER'S CLUB","date":"10 січня 20:00, пн","city":"Київ","address":"Music Pub \\\\"Pepper's Club\\\\"","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/13/Wz/61b714a325571/55ca.png:31-catalog-event_item-desktop"},{"title":"НАШІ БЕЗ РАШІ. LIVE","date":"24.01","city":"Львів","address":"Національний український академічний драматичний театр імені Марії Заньковецької","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/8/WO/61b0dfa26940c/9468.jpg:31-catalog-event_item-desktop"},{"title":"СЕРГІЙ ДЄТКОВ","date":"01 лютого 20:00, вт","city":"Харків","address":"Палац студентів ХПІ","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/27/dD/617928a486922/6968.jpg:31-catalog-event_item-desktop"},{"title":"СЕРГІЙ ДЄТКОВ","date":"06 лютого 20:00, нд","city":"Кривий Ріг","address":"Палац молоді і студентів","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/27/d2/61793686bbc73/bcbd.jpg:31-catalog-event_item-desktop"},{"title":"СЕРГІЙ ДЄТКОВ","date":"14 лютого 20:00, пн","city":"Київ","address":"Центр культури та мистецтва НАУ","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/27/rk/6179428154c06/4c5b.jpg:31-catalog-event_item-desktop"},{"title":"DIZEL SHOW","date":"28.02","city":"Львів","address":"Львівський Державний Цирк","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/9/SI/61b1c30dd0d2c/0d80.jpg:31-catalog-event_item-desktop"},{"title":"ДИВНІ ЛЮДИ. ЩАСЛИВІ ІДІОТІВ НЕ СПОСТЕРІГАЮТЬ","date":"14.01","city":"Київ","address":"Будинок архітектора","price":0,"category":3,"image":"https://storage.concert.ua/JmF/4/fM/610a870f8364f/3699.jpg:31-catalog-event_item-desktop"},{"title":"СЕРГІЙ ДЄТКОВ","date":"04 лютого 20:00, пт","city":"Дніпро","address":"БК Машинобудівельників","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/27/49/6179323153b07/3b50.jpg:31-catalog-event_item-desktop"},{"title":"СЕРГІЙ ДЄТКОВ","date":"05 лютого 20:00, сб","city":"Запоріжжя","address":"ДК Дніпроспецсталь","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/27/rJ/6179348a9e29a/e2f2.jpg:31-catalog-event_item-desktop"},{"title":"ТЕСАМЕШОУ","date":"Кожного дня","city":"Online-трансляція","address":"Online","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/23/f/61741577a5874/58bd.jpg:31-catalog-event_item-desktop"},{"title":"ГРА МАФІЯ","date":"17 грудня 19:30, пт","city":"Київ","address":"Ресторан KAMA","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/15/8W/61b9a295e42ce/4318.jpg:31-catalog-event_item-desktop"},{"title":"ЖІНОЧИЙ КВАРТАЛ. НОВОРІЧНА ПРОГРАМА","date":"17 грудня 20:00, пт","city":"Київ","address":"КЦ Freedom Hall","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/9/vn/618a6aa256865/68aa.jpg:31-catalog-event_item-desktop"},{"title":"STAND-UP COMMEDIA","date":"17 грудня 20:00, пт","city":"Київ","address":"Magnifiqe bar","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/15/oI/61b9a507ed552/d59c.jpg:31-catalog-event_item-desktop"},{"title":"WOMEN'S STAND UP","date":"18 грудня 19:00, сб","city":"Київ","address":"Бочка PUB","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/16/8f/61bb02172b88b/b8dc.jpg:31-catalog-event_item-desktop"},{"title":"STAND UP СУБОТНИК","date":"18 грудня 21:00, сб","city":"Київ","address":"Бочка PUB","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/16/99/61bb10577e551/e5a0.jpg:31-catalog-event_item-desktop"},{"title":"STAND UP 4K","date":"19 грудня 19:00, нд","city":"Київ","address":"Бочка PUB","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/14/o/61b7d0820e21b/e2a0.jpg:31-catalog-event_item-desktop"},{"title":"КВАРТЕТНІК","date":"19 грудня 19:00, нд","city":"Київ","address":"МЦКМ (Жовтневий палац)","price":0,"category":3,"image":"https://storage.concert.ua/JmF/29/xk/6154245f88af3/8b4a.jpg:31-catalog-event_item-desktop"},{"title":"STAND-UP COMMEDIA","date":"19 грудня 20:00, нд","city":"Київ","address":"Magnifiqe bar","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/15/Hd/61b9e5308e5a5/e60d.jpg:31-catalog-event_item-desktop"},{"title":"STAND UP ВЕЛИКИЙ ВІДКРИТИЙ МІКРОФОН","date":"19 грудня 21:00, нд","city":"Київ","address":"Бочка PUB","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/14/75/61b7d2275e51c/e576.jpg:31-catalog-event_item-desktop"},{"title":"ШОУ ІСТОРІЙ","date":"20 грудня 20:00, пн","city":"Київ","address":"Urban","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/7/ul/61af349cda640/a694.png:31-catalog-event_item-desktop"},{"title":"STAND-UP В URBAN","date":"21 грудня 20:00, вт","city":"Київ","address":"Urban","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/6/Z/61addf577fcfe/fd52.png:31-catalog-event_item-desktop"},{"title":"STAND-UP ALFAVITO","date":"23 грудня 19:30, чт","city":"Київ","address":"Alfavito Hotel","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/8/3f/61b0d751149e3/4a3a.png:31-catalog-event_item-desktop"},{"title":"ПРОСТО СТЕНДАП / STAND UP У СARNEGIE BAR","date":"25 грудня 20:00, сб","city":"Київ","address":"Carnegie Resto Bar","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/16/DB/61bb19fb16ea5/6eed.jpg:31-catalog-event_item-desktop"},{"title":"STAND-UP В BARBEER MUSIC PUB","date":"26 грудня 19:00, нд","city":"Київ","address":"Barbeer Music Pub","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/6/7K/61ade1071d62f/d679.png:31-catalog-event_item-desktop"},{"title":"ТЕАТР «МАСКИ» В КОМЕДІЇ «ДОН ЖУАН»","date":"26.12","city":"Одеса","address":"Будинок Клоунів","price":0,"category":3,"image":"https://storage.concert.ua/Jn5/18/ZJ/5e4bc326a004d/0097.jpg:31-catalog-event_item-desktop"},{"title":"СТЕНДАП ВЕЧІРКА В DOROTHY PUB","date":"26 грудня 19:00, нд","city":"Київ","address":"Dorothy pub","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/6/rA/61ade274b0cf8/0d40.png:31-catalog-event_item-desktop"},{"title":"ШОУ ІСТОРІЙ","date":"27 грудня 19:30, пн","city":"Київ","address":"Київський драматичний театр \\\\"Браво\\\\"","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/3/8w/61a9faabb222e/2270.png:31-catalog-event_item-desktop"},{"title":"РОЗДЯГАЙСЯ, ПОГОВОРИМО!","date":"29.12","city":"Київ","price":0,"category":3,"image":"https://storage.concert.ua/JmI/18/CZ/60536ae5e4808/4857.jpg:31-catalog-event_item-desktop"},{"title":"СЕМИДЮЙМОВОЧКА","date":"04.01, 05.01","city":"Київ","address":"МЦКМ (Жовтневий палац)","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/16/bI/61bb0839cd39b/d3e7.jpg:31-catalog-event_item-desktop"},{"title":"ФЕСТИВАЛЬ СУТУЛА СОБАКА ДЖЕКИ ЧАН. ТЕАТР ВОРОБУШЕК","date":"08.01","city":"Київ","address":"Центральний будинок художника","price":0,"category":3,"image":"https://storage.concert.ua/JmJ/18/9C/61965ec79512f/5185.jpg:31-catalog-event_item-desktop"}]`);


let dt = [...a];

let cities = ["Київ", "Львів", "Харків", "Рівне", "Луцьк",  "Житомир",  "Вінниця",  "Хмельницький",  "Тернопіль",  "Чернівці",  "Івано-Франківськ",  "Ужгород",  "Одеса",  "Миколаїв",  "Херсон",  "Сімферополь",  "Запоріжжя",  "Дніпропетровськ",  "Кіровоград",  "Дніпро",  "Полтава",  "Черкаси",  "Біла церква",  "Чернігів",  "Суми",  "Донецьк",  "Луганськ"];

const arr = ["січ", "лют", "бере", "квіт", "трав", "черв", "лип", "серп", "вере", "жовт", "листоп", "груд"];


dt = dt.map(el => {
  const getDate = (i) => {
    let m = 0;
    for (let idx = 0; idx < 12; idx++) {
      if (i.indexOf(arr[idx]) !== -1) {
        m = idx + 1;
        break;
      }
    }

    const p = i.split(" ");
    let d = +p[0];
    const year = m < 12 ? 2022 : 2021;

    let time;
    try {
      time = p[2].split(',')[0];
    } catch (e) {}

    if (d < 10) d = `0${d}`;
    if (m < 10) m = `0${m}`;

    return time ? `STR_TO_DATE('${m}-${d}-${year} ${time}:00', '%m-%d-%Y %H:%i:%s')`.toString() : undefined;
  };
  let city = cities.indexOf(el.city)
  return {
    ...el,
    date: getDate(el.date),
    category: 4,
    price: Math.round(Math.random() * 100) * 10,
    city: city !== -1 ? city + 1 : el.city,
  };
}).filter(i => !!i.date)

let str = ""
dt.forEach(i => {
  str += `INSERT INTO tickets(title,date,city,address,price,image,category) VALUES ("${i.title}", ${i.date}, ${i.city}, '${i.address}', ${i.price}, '${i.image}', ${i.category});\n`
})
console.log(str);
URL.createObjectURL(new Blob([str]))


/*

JSON.stringify((() => {
      const res = []
      let a = [...document.querySelectorAll('.event')].filter(i => !i.classList.contains('event--double')).forEach(i => {
        // let price = i.querySelector('.event__data .event__price').innerText
        const t = i.querySelector('.event__place span').innerText.split(', ')
        res.push({
          title: i.querySelector('.event__name').innerText,
          date: i.querySelector('.event__date').innerText,
          city: t[0],
          address: t[1],
          price: 0,
          image: i.querySelector('img.event-info-img ').src,
        })
      })
      return res;
    })())


* */
